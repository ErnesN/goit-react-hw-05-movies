{"version":3,"file":"static/js/136.173f4fb0.chunk.js","mappings":"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","sources":["components/services/themoviedb-api.js","webpack://react-homework-template/./src/pages/MovieDetails/movie-details.module.scss?cb87","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'f051455512c484509b6d393ae9816298';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst TREND_URL = `${BASE_URL}/trending/movie/week`;\nconst SEARCH_URL = `${BASE_URL}/search/movie`;\nconst ID_URL = `${BASE_URL}/movie/`;\n\nexport const fetchTrendingFilms = async (page = 1) => {\n  return await axios.get(\n    `${TREND_URL}?api_key=${API_KEY}&page=${page}&language=uk-UA`\n  );\n};\n\nexport const fetchFilmToId = async id => {\n  return await axios.get(`${ID_URL}${id}?api_key=${API_KEY}&language=uk-UA`);\n};\n\nexport const fetchSearchFilms = async (searchQuery, page = 1) => {\n  return await axios.get(\n    `${SEARCH_URL}?api_key=${API_KEY}&query=${searchQuery}&page=${page}&language=uk-UA`\n  );\n};\n\nexport const fetchCastFilmToId = async id => {\n  return await axios.get(\n    `${ID_URL}${id}/credits?api_key=${API_KEY}&language=uk-UA`\n  );\n};\n\nexport const fetchReviewsFilmToId = async id => {\n  return await axios.get(`${ID_URL}${id}/reviews?api_key=${API_KEY}`);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"MovieDetailsContainer\":\"movie-details_MovieDetailsContainer__TpevU\",\"MovieDetailsImage\":\"movie-details_MovieDetailsImage__EtEcQ\",\"MovieDetailsDescription\":\"movie-details_MovieDetailsDescription__ned9s\",\"MovieDetailsTitle\":\"movie-details_MovieDetailsTitle__Oe2O8\",\"MovieDetailsSubTitle\":\"movie-details_MovieDetailsSubTitle__apv1r\",\"goBack\":\"movie-details_goBack__BGvqZ\",\"MovieDetailsInfo\":\"movie-details_MovieDetailsInfo__7vqpW\",\"MovieDetailsSubInfo\":\"movie-details_MovieDetailsSubInfo__l6Wyf\",\"MovieDetailsTextInfo\":\"movie-details_MovieDetailsTextInfo__BFeIF\"};","import { useState, useEffect } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  useLocation,\n  Link,\n  Outlet,\n} from 'react-router-dom';\n\nimport { fetchFilmToId } from 'components/services/themoviedb-api';\n\nimport Loader from 'components/Loader/Loader';\n\nimport styles from './movie-details.module.scss';\n\nconst MovieDetails = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  const goBack = () => navigate(from);\n\n  useEffect(() => {\n    const getTrandingMovie = async () => {\n      setLoading(true);\n\n      try {\n        const { data } = await fetchFilmToId(movieId);\n        setMovies(data);\n      } catch (error) {\n        setError(error.massage);\n      } finally {\n        setLoading(false);\n      }\n    };\n    getTrandingMovie(movieId);\n  }, [movieId]);\n\n  const { title, poster_path, overview, genres, vote_average, vote_count } =\n    movies;\n\n  const ganresList = genres?.map(ganre => ganre.name).join(', ');\n\n  const userScore = () => {\n    const scorePecentage = () => {\n      return Math.round(vote_average * 10);\n    };\n    const userScorePecentage = scorePecentage();\n\n    return (\n      <p className={styles.MovieDetailsUserScore}>\n        Оцінка користувачів:&ensp;\n        {userScorePecentage}% ({vote_count})\n      </p>\n    );\n  };\n\n  const Score = userScore();\n\n  return (\n    <>\n      <button className={styles.goBack} onClick={goBack}>\n        Повернутись на попередню сторінку\n      </button>\n      {loading && <Loader />}\n      {error && <p>{error.massage}</p>}\n      <div className={styles.MovieDetailsContainer}>\n        <div className={styles.MovieDetailsImage}>\n          <img\n            src={\n              poster_path === undefined\n                ? 'https://static.vecteezy.com/system/resources/previews/005/337/799/original/icon-image-not-found-free-vector.jpg'\n                : `https://image.tmdb.org/t/p/w500${poster_path}`\n            }\n            alt=\"\"\n          ></img>\n        </div>\n        <div className={styles.MovieDetailsDescription}>\n          <h2 className={styles.MovieDetailsTitle}>{title}</h2>\n          {vote_average > 0 && Score}\n          <p className={styles.MovieDetailsSubTitle}>Короткий опис</p>\n          <p>{overview !== '' ? overview : 'Опис не вказано'}</p>\n          <p className={styles.MovieDetailsSubTitle}>Жанри</p>\n          <p>{ganresList !== '' ? ganresList : 'Жанри не вказано'}</p>\n        </div>\n      </div>\n      <div className={styles.MovieDetailsInfo}>\n        <p className={styles.MovieDetailsSubInfo}>Додаткова інформація:</p>\n        <div className={styles.MovieDetailsTextInfo}>\n          <Link state={{ from }} to={`cast`}>\n            Акторський склад\n          </Link>\n          <Link state={{ from }} to={`reviews`}>\n            Відгуки\n          </Link>\n          <Outlet />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["API_KEY","BASE_URL","TREND_URL","SEARCH_URL","ID_URL","fetchTrendingFilms","page","axios","fetchFilmToId","id","fetchSearchFilms","searchQuery","fetchCastFilmToId","fetchReviewsFilmToId","useState","movies","setMovies","loading","setLoading","error","setError","movieId","useParams","navigate","useNavigate","from","useLocation","state","useEffect","getTrandingMovie","data","massage","title","poster_path","overview","genres","vote_average","vote_count","ganresList","map","ganre","name","join","Score","userScorePecentage","Math","round","className","styles","userScore","onClick","Loader","src","undefined","alt","to"],"sourceRoot":""}